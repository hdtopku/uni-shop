<template>
  <page class="page-container">
    <!-- <view class="font-60" v-if="!ios"> -->
    <view class="font-60" v-if="false">
      <u-alert effect="dark" title="æç¤ºï¼š" type="error"
        description="å®‰å“ã€windowsæˆ–macç”¨æˆ·æ— æ³•éªŒè¯ï¼Œéœ€å€ŸåŠ©iphoneæˆ–ipadéªŒè¯åæ‰å¯ä½¿ç”¨ï¼è¯·ä½¿ç”¨iphoneæˆ–ipadæ‰“å¼€æ­¤é“¾æ¥ï¼Œå†å¼€å§‹éªŒè¯ï¼" fontSize="25">
      </u-alert>
    </view>
    <view class="font-60" v-if="false">
      <u-modal :show="showModal" title="éªŒè¯é“¾æ¥å·²å¤åˆ¶" content='è¯·å‰å¾€chromeåœ°å€æ ç²˜è´´ï¼Œå¹¶å¼€å§‹éªŒè¯ï¼' @confirm="showModal = false"
        :closeOnClickOverlay="true" @close="showModal = false"></u-modal>
      <u--image :showLoading="true"
        src="https://is3-ssl.mzstatic.com/image/thumb/Purple122/v4/0e/16/3b/0e163b57-2e3a-427c-e061-9fe4f6bf40a8/AppIcon-0-1x_U007emarketing-0-0-0-6-0-0-sRGB-85-220.png/434x0w.webp"
        class="chrome-image" width="150" height="150"></u--image>
      å¿…é¡»ä½¿ç”¨chromeæµè§ˆå™¨æ‰å¯éªŒè¯ï¼Œ
      <a href="https://apps.apple.com/cn/app/google-chrome/id535886823" text="è¯·ç‚¹è¿™é‡Œä¸‹è½½è°·æ­Œæµè§ˆå™¨" target="_blank"
        @click="click">è¯·ç‚¹è¿™é‡Œä¸‹è½½è°·æ­Œæµè§ˆå™¨</a>
      <br>
      å¦‚å·²ä¸‹è½½chromeï¼Œ
      <a href="javascript:;" @click="copyLink">è¯·ç‚¹è¿™é‡Œå¤åˆ¶éªŒè¯é“¾æ¥</a>
    </view>
    <view v-if="true">
      <u-steps :current="currentStep" iconPlacement="right">
        <u-steps-item title="åŠ å…¥ä¼šå‘˜" desc="éœ€å…ˆåŠ å…¥ä¼šå‘˜"></u-steps-item>
        <u-steps-item title="å¼€å§‹éªŒè¯" desc="æŒ‰æ­¥éª¤å¼€å§‹å³å¯"></u-steps-item>
      </u-steps>
      <u-divider :text="currentStep === 0 ? 'è¯·æ­£ç¡®é€‰æ‹©æ‚¨çš„æƒ…å†µ' : 'å¼€å§‹éªŒè¯å‰è¯·ä»”ç»†é˜…è¯»ä»¥ä¸‹é—®é¢˜'"></u-divider>
      <!-- æ­¥éª¤1 -->
      <view class="step-content" v-show="currentStep === 0">
        <u-radio-group v-model="radiovalue7" :borderBottom="true" placement="column" iconPlacement="right"
          @change="groupChange">
          <u-radio :customStyle="{marginBottom: '16px'}" v-for="(item, index) in radiolist7" :key="index"
            :label="item.label" :name="item.name" @change="radioChange">
          </u-radio>
        </u-radio-group>
        <u-alert v-show="showAlert" class="animate__animated animate__headShake" :title="alertTitle" :type="alertType"
          :effect="alertEffect" showIcon>
        </u-alert>
      </view>
      <!-- æ­¥éª¤2 -->
      <view class="step-content" v-show="currentStep === 1">
        <u-collapse accordion>
          <u-collapse-item title="1ã€å¦‚ä½•éªŒè¯ï¼Ÿ">
            <text class="u-collapse-content">
              ç‚¹å‡»ä¸‹æ–¹å¼€å§‹éªŒè¯ï¼Œç„¶åç‚¹çº¢è‰²æˆ–è“è‰²æŒ‰é’®ï¼Œé¡ºç€ç‚¹ï¼Œç›´åˆ°æˆåŠŸå‡çº§ï¼

              æ¸©é¦¨æç¤ºï¼šå‡çº§å­¦ç”Ÿæ–¹æ¡ˆè¿‡ç¨‹æœ‰æŒ‡çº¹æˆ–äººè„¸ç¡®è®¤ï¼Œä¸ä¼šäºŒæ¬¡æ‰£è´¹ï¼ç›´æ¥æ”¾å¿ƒç»§ç»­å³å¯
            </text>
          </u-collapse-item>
          <u-collapse-item title="2ã€æ…¢æ‰“ä¸å¼€ï¼Ÿ">
            <text class="u-collapse-content">
              ç‚¹å¼€ã€ç³»ç»Ÿè®¾ç½®å¤´åƒè®¢é˜…ã€‘ï¼šå­¦ç”Ÿ(1ä¸ªæœˆ) 5å…ƒå‹¾ä¸Šï¼Œä¸”æ²¡æç¤ºéªŒè¯ï¼Œå³æˆåŠŸã€‚
            </text>
          </u-collapse-item>
          <u-collapse-item title="3ã€ä¼˜æƒ æœŸé™ï¼Ÿ">
            <text class="u-collapse-content">
              è‹¹æœå®˜æ–¹1-4å¹´ä¼šå¯¹èµ„æ ¼æŠ½æŸ¥
              å¦‚æœæŠ½åˆ°ï¼šéŸ³ä¹ç•Œé¢ä¼šæå‰ä¸€ä¸ªæœˆæç¤ºéªŒè¯
              åˆ™éœ€è¦æ¥è¿™è¾¹é‡æ–°ä¸‹å•ç»­æœŸï¼
            </text>
          </u-collapse-item>
          <u-collapse-item title="4ã€æ˜¯å¦æˆåŠŸï¼Ÿ">
            <text class="u-collapse-content">
              ç‚¹å¼€ã€ç³»ç»Ÿè®¾ç½®å¤´åƒè®¢é˜…ã€‘ï¼šå­¦ç”Ÿ(1ä¸ªæœˆ) 5å…ƒå‹¾ä¸Šï¼Œä¸”æ²¡æç¤ºéªŒè¯ï¼Œå³æˆåŠŸã€‚
            </text>
          </u-collapse-item>
          <u-collapse-item title="5ã€æ—¥æœŸæ²¡å˜ï¼Ÿ">
            <text class="u-collapse-content">
              æ‚¨çš„æ–¹æ¡ˆæ˜¯åŒ…æœˆï¼ŒéåŒ…å¹´ï¼
              5å…ƒæ–¹æ¡ˆå‹¾ä¸Šï¼Œä¸”æ²¡æç¤ºéªŒè¯ï¼Œå°±å·²æˆåŠŸï¼ï¼
              ğŸ‘‰è¯·å‹¿åå¤é—®ï¼Œè°¢è°¢æ”¯æŒï¼ï¼ï¼
            </text>
          </u-collapse-item>
          <u-collapse-item title="6ã€è‹¥æœªæˆåŠŸï¼Ÿã€å¿…é¡»å…ˆæˆªå›¾ã€‘">
            <text class="u-collapse-content">
              âœ… å¿…é¡»ç‚¹å¼€ã€ç³»ç»Ÿè®¾ç½®å¤´åƒè®¢é˜…ã€‘ï¼Œå…ˆæˆªå›¾å†æé—®ã€‚
              âŒ è‹¥æœªæˆªå›¾ç›´æ¥è¯´ï¼šæä¸å®šï¼å®¢æœå°†æ— æ³•åˆ¤æ–­ï¼Œå› æ­¤æˆªå›¾ç»™å®¢æœï¼Œæ‰èƒ½ç²¾å‡†è§£ç­”ï¼
            </text>
          </u-collapse-item>
        </u-collapse>

        <u-checkbox-group v-show="showAlert" class="px-4 animate__animated animate__headShake" v-model="checkboxValue1"
          placement="column" @change="checkboxChange">
          <u-checkbox labelSize="18" size="25" label="æˆ‘å·²è®¤çœŸé˜…è¯»å¹¶çŸ¥æ™“æ‰€æœ‰é—®é¢˜ï¼Œå¯ä»¥å¼€å§‹éªŒè¯ï¼" :name="true">
          </u-checkbox>
        </u-checkbox-group>
      </view>
    </view>
    <!-- åº•éƒ¨æŒ‰é’® -->
    <view style="margin-top: 30upx;">
      <u-button @click="clickNext" type="error" plain shape="circle" v-show="currentStep === 0">ä¸‹ä¸€æ­¥</u-button>
      <view v-show="currentStep !== 0">
        <u-row class="u-flex" gutter="10">
          <u-col span="6">
            <u-button @click="clickNext" type="error" plain shape="circle">ä¸Šä¸€æ­¥</u-button>
          </u-col>
          <u-col span="6">
            <u-button type="primary" @click="clickStart" shape="circle">å¼€å§‹éªŒè¯</u-button>
          </u-col>
        </u-row>
      </view>
    </view>
  </page>
</template>

<script>
  export default {
    data() {
      return {
        ios: true,
        showAlert: true,
        currentStep: 1,
        showModal: false,
        checkboxValue1: [false],
        alertType: 'error',
        alertTitle: 'è¯·æ­£ç¡®é€‰æ‹©æ‚¨çš„æƒ…å†µï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´éªŒè¯å¤±è´¥ï¼',
        alertEffect: 'light',
        nextDisabled: true,
        radiolist7: [{
            label: '1ã€æˆ‘æ˜¯æ–°ç”¨æˆ·ï¼Œè¿˜æœªåŠ å…¥è‹¹æœéŸ³ä¹',
            name: 1,
            disabled: false
          },
          {
            label: '2ã€æˆ‘æ˜¯è¿‡æœŸç”¨æˆ·ï¼Œè®¢é˜…å·²ç»è¿‡æœŸäº†',
            name: 2,
            disabled: false
          },
          {
            label: '3ã€æˆ‘è¿˜æœªè¿‡æœŸï¼Œä½†å·²å–æ¶ˆè®¢é˜…',
            name: 3,
            disabled: false
          },
          {
            label: '4ã€æˆ‘ç›®å‰æ˜¯ä¸ªäººæ–¹æ¡ˆè®¢é˜…ä¸­ï¼Œéœ€è¦å‡çº§ä¸ºå­¦ç”Ÿæ–¹æ¡ˆ',
            name: 4,
            disabled: false
          },
          {
            label: '5ã€æˆ‘ç›®å‰æ˜¯å­¦ç”Ÿæ–¹æ¡ˆè®¢é˜…ä¸­ï¼Œè‹¹æœæç¤ºæˆ‘éªŒè¯èµ„æ ¼',
            name: 5,
            disabled: false
          },
        ],
        // u-radio-groupçš„v-modelç»‘å®šçš„å€¼å¦‚æœè®¾ç½®ä¸ºæŸä¸ªradioçš„nameï¼Œå°±ä¼šè¢«é»˜è®¤é€‰ä¸­
        radiovalue7: 0,
      }
    },
    onReady(option) {
      let {
        platform
      } = uni.getSystemInfoSync()
      let sys = uni.getStorageSync('sys')
      if (!sys && platform === 'ios') {
        this.ios = true
      } else {
        uni.setStorage({
          data: 'false',
          key: 'sys'
        })
        this.ios = false
        // uni.$emit('showNavbar', false)
      }
      var isChrome = window.navigator.userAgent.indexOf("hrome") > -1
    },
    methods: {
      checkboxChange(val) {
        this.checkboxValue1 = val
        console.log(this.checkboxValue1[0])
      },
      copyLink() {
        // #ifdef H5
        let url = location.href
        uni.setClipboardData({
          data: location.href,
          success: () => {
            uni.$u.msg('é“¾æ¥å·²å¤åˆ¶')
          }
        })
        this.showModal = true
        // #endif
      },
      groupChange(n) {
        switch (n) {
          case 1:
            this.alertType = 'error'
            this.alertTitle = 'è¯·å…ˆåˆ°è‹¹æœéŸ³ä¹ä¸­ã€å…è´¹å¼€é€šä¸ªäººæ–¹æ¡ˆã€‘ï¼Œç„¶åé€‰æ‹©æƒ…å†µ4ç»§ç»­ï¼è‹¥æ— å…è´¹è¯•ç”¨ï¼Œè¯´æ˜æ‚¨ä¹‹å‰å·²è¯•ç”¨è¿‡ï¼Œè¿‡æœŸäº†æˆ–è¢«æ‚¨å–æ¶ˆï¼Œè¯·é€‰æ‹©æƒ…å†µ2ç»§ç»­ï¼'
            this.alertEffect = 'dark'
            this.nextDisabled = true
            break
          case 2:
            this.alertType = 'error'
            this.alertTitle = 'è¯·å…ˆåˆ°è‹¹æœéŸ³ä¹ä¸­ã€èŠ±è´¹10å…ƒå¼€é€šä¸ªäººæ–¹æ¡ˆã€‘ï¼ˆä¸‹ä¸ªæœˆèµ·5å…ƒï¼Œ10å…ƒè‹¹æœæ”¶å–ä¸å¯é€€è¿˜ï¼‰ï¼Œç„¶åé€‰æ‹©æƒ…å†µ4ç»§ç»­ï¼'
            this.alertEffect = 'dark'
            this.nextDisabled = true
            break
          case 3:
            this.alertType = 'error'
            this.alertTitle = 'è¯·æ‰“å¼€â€œæ‰‹æœºè®¾ç½®>å¤´åƒ>è®¢é˜…â€ä¸­å‹¾é€‰å›ä¹‹å‰çš„æ–¹æ¡ˆï¼Œç„¶åé€‰æ‹©æƒ…å†µ4æˆ–5ç»§ç»­'
            this.alertEffect = 'dark'
            this.nextDisabled = true
            break
          case 4:
            this.alertType = 'success'
            this.alertTitle = 'æˆ‘ç¡®ä¿å·²ç»å¤„äºã€ä¸ªäººæ–¹æ¡ˆã€‘ä¸­ï¼Œä¸”æœªå–æ¶ˆã€æœªè¿‡æœŸï¼Œå¯ä»¥è¿›å…¥ä¸‹ä¸€æ­¥'
            this.alertEffect = 'dark'
            this.nextDisabled = false
            break
          case 5:
            this.alertType = 'success'
            this.alertTitle = 'æˆ‘ç¡®ä¿å·²ç»å¤„äºã€å­¦ç”Ÿæ–¹æ¡ˆã€‘ä¸­ï¼Œä¸”æœªå–æ¶ˆã€æœªè¿‡æœŸï¼Œç›®å‰è‹¹æœæç¤ºæˆ‘éªŒè¯èµ„æ ¼ï¼Œå¯ä»¥è¿›å…¥ä¸‹ä¸€æ­¥'
            this.alertEffect = 'dark'
            this.nextDisabled = false
            break
        }
      },
      radioChange(n) {
        console.log('radioChange', n);
      },
      clickNext() {
        if (this.currentStep === 0 && this.radiovalue7 <= 3) {
          this.showAlert = false
          this.$nextTick(() => {
            this.showAlert = true
          })
        } else {
          this.currentStep = ++this.currentStep % 2
        }
      },
      clickStart() {
        if (this.currentStep === 1 && !this.checkboxValue1[0]) {
          this.showAlert = false
          this.$nextTick(() => {
            this.showAlert = true
          })
        } else {
          // #ifdef H5
          window.open('https://baidu.com')
          // #endif
        }
      },
    }
  }
</script>

<style lang="scss">
  .page-container {
    width: 100%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;

    .font-60 {
      font-size: 60upx;
    }

    .step-content {
      height: 850upx;
      width: 90vw;
      display: flex;
      flex-direction: column;
      justify-content: space-between;

      .chrome-image {
        margin: 20upx auto;
      }
    }
  }

  ::v-deep .u-image {
    margin: 0 auto;
  }
</style>
