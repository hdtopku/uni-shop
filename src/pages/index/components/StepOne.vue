<template>
  <view class="container">
    <u-divider text="è®¢é˜…ä¸­æ‰å¯å‡çº§ã€ç»­æœŸ"></u-divider>
    <u-radio-group v-model="radiovalue7" :borderBottom="true" placement="column" iconPlacement="right"
      @change="groupChange">
      <u-radio :customStyle="{marginBottom: '8px'}" v-for="(item, index) in radiolist7" :key="index" :label="item.label"
        :name="item.name">
      </u-radio>
    </u-radio-group>
    <view class="btn">
      <u-alert style="position: absolute; bottom: 120upx;width: 100%;" v-show="showAlert"
        class="animate__animated animate__shakeX" :title="alertTitle" :type="alertType" :effect="alertEffect">
      </u-alert>
      <u-button @click="clickNext" type="error" plain shape="circle">{{buttonText}}
      </u-button>
    </view>
    <u-modal showCancelButton :closeOnClickOverlay="true" :show="showRenewModal1" cancelText="ç»§ç»­ï¼æé†’æ¶ˆå¤±å³æˆåŠŸ"
      @close="showRenewModal1 = false" @cancel="confirmNext" cancelColor="red" confirmText="æ‡µäº†ï¼æˆ‘å†çœ‹çœ‹" confirmColor="blue"
      @confirm="showRenewModal1 = false">
      <img referrer="no-referrer|origin|unsafe-url" class="animate__animated animate__flipInX"
        src="https://article.biliimg.com/bfs/article/7b874bde1ce69b4096656e2668f6d348fd06f3aa.png"
        style="width: 600rpx;height: 600rpx;" />
    </u-modal>
  </view>
</template>

<script>
  export default {
    data() {
      return {
        showAlert: true,
        alertType: 'error',
        alertTitle: `ğŸ‘† è¯·æ­£ç¡®é€‰æ‹©æ‚¨çš„æƒ…å†µï¼`,
        alertEffect: 'light',
        radiolist7: [{
            label: 'æƒ…å†µ1ã€æˆ‘å°šæœªè®¢é˜…ï¼šè¿‡æœŸç”¨æˆ·ã€æˆ–æ–°ç”¨æˆ·',
            name: 1,
            disabled: false
          },
          {
            label: 'æƒ…å†µ2ã€æˆ‘åœ¨è®¢é˜…ä¸­ï¼šä¸ªäººæ–¹æ¡ˆã€æˆ–å­¦ç”Ÿç»­æœŸ',
            name: 2,
            disabled: false
          },
        ],
        radiovalue7: 0,
        buttonText: 'ä¸‹ä¸€æ­¥',
        showRenewModal1: false,
      }
    },
    methods: {
      groupChange(n) {
        switch (n) {
          case 1:
            this.alertType = 'error'
            this.alertTitle = `å…ˆå¼€åå‡
            
            æƒ…å†µ1.1ï¼šè¿‡æœŸç”¨æˆ·æ­¥éª¤
            1ã€å…ˆèŠ±10å…ƒå¼€ä¸ªäººæ–¹æ¡ˆï¼Œ10å…ƒè‹¹æœæ”¶ï¼Œä¸å¯é€€ï¼
            2ã€å¼€å®Œåï¼Œå†é€‰æ‹©æƒ…å†µ2å‡çº§
            
            æƒ…å†µ1.2ï¼šæ–°ç”¨æˆ·æ­¥éª¤
            1ã€å…ˆå…è´¹å¼€é€šä¸ªäººæ–¹æ¡ˆï¼Œè‹¥è¯•ç”¨è¿‡æ— å…è´¹ï¼ŒæŒ‰æƒ…å†µ1.1
            2ã€å¼€å®Œåï¼Œå†é€‰æ‹©æƒ…å†µ2å‡çº§`
            this.alertEffect = 'light'
            this.buttonText = 'å…ˆåˆ°éŸ³ä¹é‡Œå¼€é€šä¸ªäººæ–¹æ¡ˆï¼Œå†å‡å­¦ç”Ÿæ–¹æ¡ˆ'
            break
          case 2:
            this.alertType = 'success'
            this.alertTitle = `æƒ…å†µ2.1ï¼šä¸ªäººæ–¹æ¡ˆè®¢é˜…ä¸­
            æ²¡è¿‡æœŸã€æ²¡å–æ¶ˆï¼Œè‹¥è¿‡æœŸæŒ‰æƒ…å†µ1å…ˆå¼€åå‡ï¼Œå¦åˆ™å°†å¤±è´¥
            
            æƒ…å†µ2.2ï¼šå­¦ç”Ÿæ–¹æ¡ˆè®¢é˜…ä¸­
            è‹¹æœæé†’æˆ‘ã€éªŒè¯å­¦ç”Ÿèµ„æ ¼ã€‘
`
            this.alertEffect = 'dark'
            this.buttonText = 'å·²åœ¨è®¢é˜…ä¸­ï¼Œä¸‹ä¸€æ­¥'
            break
        }
        uni.$u.reportIp()
      },
      clickNext() {
        uni.$u.reportIp()
        if (this.radiovalue7 < 2) {
          this.showAlert = false
          this.$nextTick(() => {
            this.showAlert = true
          })
        } else if (this.radiovalue7 === 2) {
          this.showRenewModal1 = true
        }
      },
      confirmNext() {
        uni.$emit('nextStep')
      }
    }
  }
</script>
<style lang="scss" scoped>
  .container {
    position: relative;
    height: 950upx;

    .btn {
      position: absolute;
      bottom: 0;
      width: 100%;
    }

    img {
      pointer-events: none;
    }
  }
</style>
